<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EedesiaBlox</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:linear-gradient(135deg,#ff0000,#ffa500,#ffff00,#00ff00);color:#fff;overflow:hidden}
#header{text-align:center;font-size:2em;padding:10px;background:#222}
.button{padding:10px;margin:5px;border:none;border-radius:5px;cursor:pointer;background:#444;color:#fff}
#games,#chat,#login{position:absolute;top:60px;left:10px;}
#chat{right:10px;left:auto;width:200px;height:300px;background:#333;overflow:auto;font-size:0.9em;padding:5px;border-radius:5px;display:none;}
#chat input{width:100%;box-sizing:border-box;margin-top:5px}
.mobileControls{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);display:flex;gap:5px;}
.mobileControls button{padding:15px;background:#555;border:none;border-radius:5px;color:#fff;}
.hidden{display:none}
#gameCanvas{border:2px solid #fff;background:#111;display:block;margin:20px auto;}
</style>
</head>
<body>
<div id="header">Welcome to EedesiaBlox</div>

<div id="login">
<button class="button" onclick="showLogin()">Login</button>
<button class="button" onclick="showSignup()">Sign Up</button>
<div id="loginForm" class="hidden">
<input id="user" placeholder="Username"><br>
<input id="pass" type="password" placeholder="Password"><br>
<button onclick="login()">Login</button>
</div>
<div id="signupForm" class="hidden">
<input id="newUser" placeholder="New Username"><br>
<input id="newPass" type="password" placeholder="New Password"><br>
<button onclick="signup()">Sign Up</button>
</div>
</div>

<div id="games">
<button class="button" onclick="toggleObby()">Obby</button>
<button class="button" onclick="toggleTycoon()">Tycoon</button>
<button class="button" onclick="toggleMusic()">Music On/Off</button>
<button class="button" onclick="toggleChat()">Chat</button>
</div>

<div id="chat">
<div id="chatMessages"></div>
<input id="chatInput" placeholder="Type..." onkeydown="if(event.key==='Enter')sendChat()">
</div>

<div class="mobileControls hidden" id="mobileControls">
<button onclick="movePlayer(-1)">◀</button>
<button onclick="movePlayer(1)">▶</button>
<button onclick="jumpPlayer()">▲</button>
</div>

<canvas id="gameCanvas" width="600" height="300"></canvas>

<script>
let musicOn=true,chatVisible=false;
const ws=new WebSocket('wss://example.com'); // Replace with your WebSocket server
let toxicWords=['swear','toxic','sexial content'];
let warnCount=0;
let playerId='p'+Math.floor(Math.random()*10000);
let players={}; // multiplayer players
let coins=0,clickRate=1,upgradeCost=10;

function showLogin(){document.getElementById('loginForm').classList.toggle('hidden');}
function showSignup(){document.getElementById('signupForm').classList.toggle('hidden');}
function login(){alert('Logged in as '+document.getElementById('user').value);}
function signup(){alert('Signed up as '+document.getElementById('newUser').value);}
function toggleObby(){currentGame='obby';resetObby();}
function toggleTycoon(){currentGame='tycoon';resetTycoon();}
function toggleMusic(){musicOn=!musicOn;if(musicOn){audio.play()}else{audio.pause();}}
function toggleChat(){chatVisible=!chatVisible;document.getElementById('chat').style.display=chatVisible?'block':'none';}
function sendChat(){
let msg=document.getElementById('chatInput').value;
document.getElementById('chatInput').value='';
if(toxicWords.some(w=>msg.toLowerCase().includes(w))){
warnCount++;
if(msg.toLowerCase().includes('sexial content')){alert('Account terminated');}
else if(warnCount>=2){alert('Banned 1 hour');}
else{alert('Warning: Toxic message!');}
return;
}
let chat=document.getElementById('chatMessages');
chat.innerHTML+='<div>'+msg+'</div>';
setTimeout(()=>{chat.innerHTML=''},30000);
ws.send(JSON.stringify({type:'chat',player:playerId,message:msg}));
}

const audio=new Audio('https://cdn.pixabay.com/download/audio/2022/03/15/audio_7d0b62e2c1.mp3?filename=winds-of-fjords-8982.mp3');
audio.loop=true;if(musicOn){audio.play();}

if(/Mobi|Android/i.test(navigator.userAgent)){document.getElementById('mobileControls').classList.remove('hidden');}

// --- Obby Game ---
const canvas=document.getElementById('gameCanvas');
const ctx=canvas.getContext('2d');
let currentGame='obby';
let player={x:50,y:250,w:20,h:20,vy:0,jumping:false};
let platforms=[{x:0,y:280,w:600,h:20},{x:150,y:220,w:50,h:10},{x:300,y:180,w:50,h:10},{x:450,y:140,w:50,h:10}];
let gravity=0.5;
let keys={left:false,right:false,up:false};
document.addEventListener('keydown',e=>{if(e.key==='ArrowLeft')keys.left=true;if(e.key==='ArrowRight')keys.right=true;if(e.key==='ArrowUp')keys.up=true;});
document.addEventListener('keyup',e=>{if(e.key==='ArrowLeft')keys.left=false;if(e.key==='ArrowRight')keys.right=false;if(e.key==='ArrowUp')keys.up=false;});
function movePlayer(dir){keys.left=dir<0;keys.right=dir>0;}
function jumpPlayer(){keys.up=true;}

function resetObby(){player.x=50;player.y=250;player.vy=0;player.jumping=false;}
function resetTycoon(){coins=0;clickRate=1;upgradeCost=10;}

// --- WebSocket multiplayer ---
ws.onopen=()=>{ws.send(JSON.stringify({type:'join',player:playerId}))};
ws.onmessage=msg=>{
let data=JSON.parse(msg.data);
if(data.type==='state'){players=data.players;}
if(data.type==='chat'){let chat=document.getElementById('chatMessages');chat.innerHTML+='<div>'+data.player+': '+data.message+'</div>';setTimeout(()=>{chat.innerHTML=''},30000);}
if(data.type==='tycoon'){coins=data.coins;}
};

function sendPlayerState(){ws.send(JSON.stringify({type:'state',player:playerId,x:player.x,y:player.y}))}
function sendTycoonState(){ws.send(JSON.stringify({type:'tycoon',player:playerId,coins:coins}))}

// --- Tycoon ---
canvas.addEventListener('click',e=>{
if(currentGame==='tycoon'){
let rect=canvas.getBoundingClientRect();
let mx=e.clientX-rect.left,my=e.clientY-rect.top;
if(mx>50&&mx<150&&my>100&&my<130){coins+=clickRate;sendTycoonState();}
}
});

// --- Game Loop ---
function gameLoop(){
ctx.clearRect(0,0,canvas.width,canvas.height);
if(currentGame==='obby'){
player.vy+=gravity;
player.y+=player.vy;
if(keys.left)player.x-=3;
if(keys.right)player.x+=3;
if(keys.up && !player.jumping){player.vy=-10;player.jumping=true;}
let onGround=false;
platforms.forEach(p=>{
if(player.x+player.w>p.x && player.x<p.x+p.w && player.y+player.h>p.y && player.y+player.h<p.y+p.h+player.vy){
player.y=p.y-player.h;player.vy=0;player.jumping=false;onGround=true;
}
ctx.fillStyle='#888';ctx.fillRect(p.x,p.y,p.w,p.h);
});
ctx.fillStyle='#0f0';ctx.fillRect(player.x,player.y,player.w,player.h);
sendPlayerState();
for(let id in players){
if(id!==playerId){let pl=players[id];ctx.fillStyle='#f00';ctx.fillRect(pl.x,pl.y,20,20);}
}
}else if(currentGame==='tycoon'){
ctx.fillStyle='#fff';
ctx.fillText('Coins: '+coins,10,50);
ctx.fillRect(50,100,100
