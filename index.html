<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Eedesiablox</title>
<style>
body { margin:0; font-family: 'Arial', sans-serif; background: linear-gradient(45deg, red, yellow, orange, green); overflow:hidden; }
#ui { position:fixed; top:10px; left:10px; display:flex; flex-direction:column; gap:5px; }
button { padding:8px; font-size:14px; cursor:pointer; }
#game { position:absolute; top:0; left:0; width:100%; height:100%; display:flex; justify-content:center; align-items:center; }
#chat { position:fixed; right:10px; bottom:10px; width:200px; max-height:300px; background:#222; color:#fff; padding:5px; overflow:auto; display:none; }
#chat input { width:100%; padding:4px; margin-top:5px; }
.mobile-controls { position:fixed; bottom:10px; left:50%; transform:translateX(-50%); display:flex; gap:10px; }
</style>
</head>
<body>
<div id="ui">
  <button onclick="startObby()">Play Obby</button>
  <button onclick="startTycoon()">Play Tycoon</button>
  <button onclick="toggleMusic()">Toggle Music</button>
  <button onclick="showChat()">Chat</button>
</div>
<div id="game"></div>
<div id="chat"><div id="messages"></div><input id="chatInput" placeholder="Type here" onkeypress="if(event.key==='Enter'){sendMessage()}"></div>
<div class="mobile-controls" id="mobileControls" style="display:none;">
  <button onclick="playerMove('left')">◀</button>
  <button onclick="playerMove('right')">▶</button>
  <button onclick="playerJump()">▲</button>
</div>
<audio id="music" loop src="winds_of_fjords.mp3"></audio>
<script>
// Music
let musicOn=false;
function toggleMusic(){musicOn=!musicOn; musicOn?document.getElementById('music').play():document.getElementById('music').pause();}

// Mobile detection
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
if(isMobile) document.getElementById('mobileControls').style.display='flex';

// Chat
let chatVisible=false;
function showChat(){
  chatVisible=!chatVisible;
  const chat=document.getElementById('chat');
  chat.style.display=chatVisible?'block':'none';
  if(chatVisible) setTimeout(()=>{chat.style.display='none'; chatVisible=false;},30000);
}
function sendMessage(){
  const input=document.getElementById('chatInput');
  const msg=input.value.trim();
  if(msg==='') return;
  // Simple filter
  if(/sex/i.test(msg)){alert('Account terminated'); return;}
  if(/fuck|shit|damn/i.test(msg)){alert('You are banned for 1 hour'); return;}
  if(/toxic/i.test(msg)){alert('Warning: Toxic message');}
  const messages=document.getElementById('messages');
  messages.innerHTML+=`<div>${msg}</div>`;
  input.value='';
}

// Game placeholder
const game=document.getElementById('game');
let playerPos={x:0,y:0};
function startObby(){
  game.innerHTML='<div style="width:50px;height:50px;background:blue;position:absolute;top:100px;left:50px;" id="player"></div>';
  playerPos={x:50,y:100};
}
function startTycoon(){
  game.innerHTML='<div style="color:#fff;">Retro Tycoon Clicker Game<br><button onclick="alert(\'Upgrade bought!\')">Buy Upgrade</button></div>';
}

// Player movement
function playerMove(dir){
  const p=document.getElementById('player'); if(!p) return;
  if(dir==='left') playerPos.x-=5;
  if(dir==='right') playerPos.x+=5;
  p.style.left=playerPos.x+'px';
}
function playerJump(){
  const p=document.getElementById('player'); if(!p) return;
  let jump=100, id=setInterval(()=>{
    if(jump<=0){clearInterval(id);return;}
    playerPos.y-=5; jump-=5; p.style.top=playerPos.y+'px';
  },20);
}

// Multiplayer placeholder
const ws=new WebSocket('wss://your-websocket-server');
ws.onopen=()=>console.log('Connected to server');
ws.onmessage=e=>console.log('Message:',e.data);

</script>
</body>
</html>
