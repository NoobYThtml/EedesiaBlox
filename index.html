<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>EedesiaBlox</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:linear-gradient(135deg,red,orange,yellow,green);color:#fff;overflow:hidden;}
#ui{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;}
button{margin:5px;padding:10px;background:#222;color:#fff;border:1px solid #fff;cursor:pointer;}
#chat{position:absolute;right:10px;bottom:10px;width:200px;height:250px;background:#0008;padding:5px;overflow-y:auto;font-size:14px;display:none;}
#chatInput{width:100%;box-sizing:border-box;}
#gameArea{width:80%;height:60%;background:#0008;margin-top:10px;position:relative;}
</style>
</head>
<body>
<div id="ui">
<h1>EedesiaBlox</h1>
<div id="buttons">
<button onclick="showObby()">Play Obby</button>
<button onclick="showTycoon()">Play Tycoon</button>
<button onclick="toggleMusic()">Music</button>
<button onclick="toggleChat()">Chat</button>
</div>
<div id="gameArea"></div>
</div>
<div id="chat">
<div id="messages"></div>
<input type="text" id="chatInput" placeholder="Type..." onkeydown="if(event.key==='Enter')sendMessage()">
</div>
<script>
let musicOn=false, chatVisible=false, chatTimeout, messages=[], warnings={}, banned={};
let toxicWords=["badword1","badword2"], warnLimit=1, banTime=24*60*60*1000;

function toggleMusic(){musicOn=!musicOn;if(musicOn)playMusic();else stopMusic();}
function playMusic(){let a=new Audio("winds_of_fjords.mp3");a.loop=true;a.play();}
function stopMusic(){document.querySelectorAll("audio").forEach(a=>a.pause());}
function toggleChat(){chatVisible=!chatVisible;document.getElementById("chat").style.display=chatVisible?"block":"none";if(chatVisible){chatTimeout=setTimeout(()=>{toggleChat();},30000);}}
function sendMessage(){let input=document.getElementById("chatInput");let msg=input.value;input.value="";if(checkToxic("You",msg))return;messages.push(msg);updateChat();}
function updateChat(){document.getElementById("messages").innerHTML=messages.join("<br>");}
function checkToxic(user,msg){let lower=msg.toLowerCase();for(let w of toxicWords){if(lower.includes(w)){warnings[user]=(warnings[user]||0)+1;if(warnings[user]>warnLimit){banned[user]=Date.now()+banTime;alert("You are banned 1 day");return true;}else{alert("Warning!");return true;}}}return false;}

function showObby(){
let area=document.getElementById("gameArea");area.innerHTML="";
let canvas=document.createElement("canvas");canvas.width=area.clientWidth;canvas.height=area.clientHeight;area.appendChild(canvas);
let ctx=canvas.getContext("2d");
let player={x:50,y:300,width:20,height:40,vy:0,jumping:false};
let gravity=0.8;
let keys={};
let platforms=[{x:0,y:350,width:canvas.width,height:10},{x:100,y:300,width:50,height:10},{x:200,y:250,width:50,height:10}];

document.onkeydown=e=>keys[e.key]=true;
document.onkeyup=e=>keys[e.key]=false;

function loop(){
ctx.clearRect(0,0,canvas.width,canvas.height);
player.vy+=gravity;player.y+=player.vy;
if(keys["ArrowLeft"])player.x-=4;if(keys["ArrowRight"])player.x+=4;
if(keys["ArrowUp"]&&!player.jumping){player.vy=-12;player.jumping=true;}

// collision
player.jumping=true;
for(let p of platforms){
ctx.fillStyle="red";ctx.fillRect(p.x,p.y,p.width,p.height);
if(player.x< p.x+p.width && player.x+player.width>p.x && player.y< p.y+p.height && player.y+player.height>p.y){
player.y=p.y-player.height;player.vy=0;player.jumping=false;
}
}

ctx.fillStyle="blue";ctx.fillRect(player.x,player.y,player.width,player.height);
requestAnimationFrame(loop);}
loop();
}

function showTycoon(){document.getElementById("gameArea").innerHTML="<h2>Tycoon Game Coming Soon!</h2>";}
if(/Mobi|Android/i.test(navigator.userAgent)){document.getElementById("buttons").innerHTML+="<br><button onclick='alert(\"Mobile Controls Enabled\")'>Mobile Controls</button>";}
</script>
</body>
</html>
