<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EedesiaBlox</title>
<style>
body{margin:0;font-family:Verdana, sans-serif;background:linear-gradient(45deg, red, yellow, orange, green);overflow:hidden;}
#menu,#obby,#tycoon,#chat{position:absolute;top:10px;left:10px;background:rgba(0,0,0,0.7);color:white;padding:10px;border-radius:8px;}
button{margin:5px;padding:5px;border:none;border-radius:5px;background:white;color:black;cursor:pointer;}
#chat{width:200px;height:300px;overflow:auto;transition:all 0.5s;}
#chat input{width:100%;padding:5px;margin-top:5px;border-radius:5px;border:none;}
.mobile-controls{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);display:flex;gap:10px;}
.mobile-controls button{padding:20px;background:white;border-radius:50%;}
</style>
</head>
<body>

<div id="menu">
<h2>EedesiaBlox</h2>
<button onclick="showGame('obby')">Obby</button>
<button onclick="showGame('tycoon')">Tycoon</button>
<button onclick="toggleChat()">Chat</button>
<button onclick="toggleMusic()">Music</button>
</div>

<div id="obby" style="display:none;">
<canvas id="obbyCanvas" width="600" height="400" style="background:#87ceeb;"></canvas>
<div class="mobile-controls">
<button onclick="moveLeft()">◀</button>
<button onclick="jump()">▲</button>
<button onclick="moveRight()">▶</button>
</div>
</div>

<div id="tycoon" style="display:none;">
<h3>Tycoon</h3>
<p>Money: <span id="money">0</span></p>
<button onclick="collectMoney()">Collect</button>
<div id="decor">🏭🎈🕹️</div>
</div>

<div id="chat" style="display:none;">
<div id="chatMessages"></div>
<input type="text" id="chatInput" placeholder="Type message..." onkeydown="if(event.key==='Enter'){sendMessage();}">
</div>

<audio id="music" loop>
<source src="https://www.roblox.com/library/1832744586/Winds-of-Fjords" type="audio/mpeg">
</audio>

<script>
// Game menu logic
function showGame(game){
  document.getElementById('obby').style.display='none';
  document.getElementById('tycoon').style.display='none';
  document.getElementById(game).style.display='block';
}

// Chat logic
let chatVisible=false;
function toggleChat(){
  chatVisible=!chatVisible;
  document.getElementById('chat').style.display=chatVisible?'block':'none';
  if(chatVisible)setTimeout(()=>{document.getElementById('chat').style.display='none';chatVisible=false;},30000);
}
let messages=[];
function sendMessage(){
  let input=document.getElementById('chatInput');
  let msg=input.value.trim();input.value='';
  if(msg.length>0){
    if(/sex|swear/i.test(msg))return alert('Account terminated or banned for 1h!');
    if(/toxic/i.test(msg))return alert('Warning: Toxic behavior!');
    messages.push(msg);
    document.getElementById('chatMessages').innerHTML=messages.join('<br>');
  }
}

// Music toggle
let musicPlaying=false;
function toggleMusic(){
  let music=document.getElementById('music');
  if(musicPlaying){music.pause();musicPlaying=false;}else{music.play();musicPlaying=true;}
}

// Tycoon logic
let money=0;
function collectMoney(){money+=1;document.getElementById('money').textContent=money;localStorage.setItem('money',money);}
window.onload=()=>{if(localStorage.getItem('money'))money=+localStorage.getItem('money');document.getElementById('money').textContent=money;};

// Obby logic (basic platformer)
let canvas=document.getElementById('obbyCanvas'),ctx=canvas.getContext('2d');
let player={x:50,y:350,w:30,h:30,vy:0,jumping:false};
let keys={left:false,right:false};
document.addEventListener('keydown',e=>{if(e.key==='ArrowLeft')keys.left=true;if(e.key==='ArrowRight')keys.right=true;if(e.key==='ArrowUp')jump();});
document.addEventListener('keyup',e=>{if(e.key==='ArrowLeft')keys.left=false;if(e.key==='ArrowRight')keys.right=false;});
function moveLeft(){keys.left=true;setTimeout(()=>keys.left=false,200);}
function moveRight(){keys.right=true;setTimeout(()=>keys.right=false,200);}
function jump(){if(!player.jumping){player.vy=-10;player.jumping=true;}}
let platforms=[{x:0,y:380,w:600,h:20},{x:100,y:300,w:100,h:10},{x:250,y:250,w:100,h:10}];
function gameLoop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  player.vy+=0.5;player.y+=player.vy;
  if(keys.left)player.x-=3;if(keys.right)player.x+=3;
  // collision
  player.jumping=true;
  platforms.forEach(p=>{
    ctx.fillStyle='brown';ctx.fillRect(p.x,p.y,p.w,p.h);
    if(player.x+player.w>p.x && player.x< p.x+p.w && player.y+player.h>p.y && player.y<p.y+p.h){
      player.y=p.y-player.h;player.vy=0;player.jumping=false;
    }
  });
  ctx.fillStyle='red';ctx.fillRect(player.x,player.y,player.w,player.h);
  requestAnimationFrame(gameLoop);
}
gameLoop();
</script>

</body>
</html>
